<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Exercise Routine Creator</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  :root{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;font-size:15px;color:#111}
  body{margin:0;padding:20px;background:#f6f7fb;display:flex;align-items:flex-start;justify-content:center;min-height:100vh}
  .card{width:100%;max-width:820px;background:#fff;border-radius:10px;box-shadow:0 6px 22px rgba(18,38,63,0.08);padding:20px}
  h1{margin:0 0 8px;font-size:20px}
  p.lead{margin:0 0 18px;color:#566270;font-size:13px}
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:12px}
  .full{grid-column:1/-1}
  label{display:block;font-size:12px;color:#3b4752;margin-bottom:6px}
  input[type="text"], input[type="number"], textarea, select{
    width:100%;box-sizing:border-box;padding:10px;border-radius:8px;border:1px solid #e3e8ef;background:#fbfcff;font-size:14px;
  }
  input::placeholder, textarea::placeholder{color:#9aa6b6}
  .actions{display:flex;gap:10px;align-items:center;margin-top:6px}
  button{background:#0b71ff;color:#fff;border:0;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer}
  button.secondary{background:#eef3ff;color:#0847b6;border:1px solid #d7e4ff}
  .output{margin-top:16px;background:#0f1720;color:#dbeafe;padding:14px;border-radius:8px;white-space:pre-wrap;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,monospace;font-size:13px;min-height:120px}
  .hint{font-size:12px;color:#7b8792;margin-top:8px}
  @media (max-width:600px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="card" role="application" aria-labelledby="title">
    <h1 id="title">Exercise Routine Creator</h1>
    <p class="lead">Enter your goals and constraints. Click "Generate Routine" to create a simple weekly plan.</p>

    <div class="grid" id="inputs">
      <div>
        <label for="goal">Goal</label>
        <input id="goal" type="text" placeholder="e.g. strength / endurance / flexibility / weight loss" />
      </div>
      <div>
        <label for="level">Fitness level</label>
        <input id="level" type="text" placeholder="beginner / intermediate / advanced" />
      </div>
      <div>
        <label for="time">Time per session (minutes)</label>
        <input id="time" type="number" placeholder="30" min="10" />
      </div>
      <div>
        <label for="days">Days per week</label>
        <input id="days" type="number" placeholder="3" min="1" max="7" />
      </div>
      <div class="full">
        <label for="equipment">Equipment (comma-separated)</label>
        <input id="equipment" type="text" placeholder="none / dumbbells / bands / barbell" />
      </div>
    </div>

    <div class="actions">
      <button id="generate">Generate Routine</button>
      <button id="clear" class="secondary" type="button">Clear</button>
      <div style="margin-left:auto;font-size:12px;color:#6b7785">Output below — copy or save as needed</div>
    </div>

    <div id="output" class="output" aria-live="polite"></div>
    <div class="hint">Tip: try "strength", "beginner", "40", "4", "dumbbells"</div>
  </div>

<script>
(function(){
  const $ = id => document.getElementById(id);
  const output = $('output');
  const rnd = (arr) => arr[Math.floor(Math.random()*arr.length)];

  const pools = {
    strength: {
      bodyweight: ["Push-ups","Bodyweight Squats","Inverted Rows (or Australian Rows)","Walking Lunges","Glute Bridges","Plank","Pike Push-ups","Single-leg Romanian Deadlift (bodyweight)"],
      dumbbells: ["Dumbbell Squat","Dumbbell Bench Press","Bent-over Dumbbell Row","Dumbbell Romanian Deadlift","Dumbbell Overhead Press","Dumbbell Reverse Lunge","Single-arm Dumbbell Row","Dumbbell Hip Thrust"],
      barbell: ["Back Squat","Barbell Bench Press","Barbell Row","Deadlift","Overhead Press","Barbell Lunge","Romanian Deadlift","Barbell Hip Thrust"],
      bands: ["Band Squat","Band Chest Press","Band Row","Band Deadlift","Band Overhead Press","Band Good Morning","Band Glute Bridge","Resistance Band Split Squat"]
    },
    endurance: {
      bodyweight: ["Jumping Jacks","Mountain Climbers","High Knees","Burpees","Skater Jumps","Butt Kickers","Bear Crawl","Fast Bodyweight Squats"],
      dumbbells: ["Dumbbell Thrusters","Dumbbell Swings","Alternating Dumbbell Snatch","Dumbbell Push Press","Dumbbell Jump Squats","Dumbbell Renegade Row","Dumbbell Lunges","Dumbbell High Pull"],
      barbell: ["Barbell Complex (light)","Barbell Hang Power Clean","Barbell Deadlift (moderate)","Barbell Thruster (light)","Barbell Front Squat (light)"],
      bands: ["Band Jump Squat","Band Mountain Climbers","Band Sprint-in-Place","Band Lateral Shuffle","Band Overhead Slam (dynamic)"]
    },
    flexibility: {
      bodyweight: ["Downward Dog","Child's Pose","Standing Forward Fold","Hip Flexor Stretch","Seated Hamstring Stretch","Cat-Cow","Figure Four Stretch","Spinal Twist"],
      dumbbells: ["Thoracic Rotation with Light DB","Goblet Squat Hold (stretch)"],
      bands: ["Banded Hamstring Stretch","Banded Shoulder Distraction","Banded Pull-through Stretch"]
    },
    "weight loss": {
      bodyweight: ["Burpees","Jumping Jacks","Mountain Climbers","High Knees","Squat Jumps","Lunge Jumps","Plank Jacks","Skaters"],
      dumbbells: ["Dumbbell Thrusters","Dumbbell Swings","Dumbbell Snatch","Dumbbell Renegade Row","Dumbbell Jump Squat"],
      barbell: ["Barbell Complex (light)","Barbell Clean & Press (light)"],
      bands: ["Band Mountain Climbers","Band Jump Squat","Band Lateral Burpee"]
    }
  };

  function choosePool(goal, equipment){
    goal = goal in pools ? goal : "strength";
    const eq = equipment || "bodyweight";
    // choose the best matching equipment pool, fallback to bodyweight
    if (pools[goal][eq]) return pools[goal][eq].slice();
    // try detection: if equipment string contains certain keywords
    if (/dumb/i.test(eq) && pools[goal].dumbbells) return pools[goal].dumbbells.slice();
    if (/barb/i.test(eq) && pools[goal].barbell) return pools[goal].barbell.slice();
    if (/band/i.test(eq) && pools[goal].bands) return pools[goal].bands.slice();
    return pools[goal].bodyweight.slice();
  }

  function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [arr[i],arr[j]]=[arr[j],arr[i]];
    }
    return arr;
  }

  function clamp(v,min,max){return Math.max(min,Math.min(max,v));}

  function planForDay(goal, level, minutes, pool){
    const plan = [];
    // Warmup
    const warmupMin = Math.min(10, Math.max(5, Math.round(minutes * 0.15)));
    plan.push({type:"Warm-up", text:`${warmupMin} min — light cardio + dynamic mobility`});

    // Determine number of exercises
    const exCount = clamp(Math.round(minutes / 8), 3, 6);
    const shuffled = shuffle(pool.slice());
    const selected = shuffled.slice(0, exCount);

    // Prescribe sets/reps based on goal and level
    const levelFactor = (level==="advanced")?1.2:(level==="intermediate")?1.0:0.8;
    selected.forEach(ex=>{
      let detail = "";
      if (goal === "strength" || goal === "strength") {
        const sets = Math.max(2, Math.round(3 * levelFactor));
        const reps = Math.max(5, Math.round(8 / levelFactor)); // fewer reps as level goes up
        detail = `${sets} sets x ${reps} reps`;
      } else if (goal === "endurance") {
        const duration = Math.max(30, Math.round((minutes - warmupMin) / exCount * 0.9));
        detail = `${duration}s work / ${Math.round(duration*0.35)}s rest — ${2 + Math.floor(levelFactor)} rounds`;
      } else if (goal === "flexibility") {
        detail = `2 sets — hold 30-60s each side / position`;
      } else if (goal === "weight loss") {
        detail = `${Math.max(2, Math.round(3*levelFactor))} rounds of ${Math.max(30,Math.round((minutes-warmupMin)/exCount))}s work with 15-30s rest`;
      } else {
        // default
        detail = `3 sets x 8-12 reps`;
      }
      plan.push({type:"Exercise", text:`${ex} — ${detail}`});
    });

    // Cooldown suggestion
    const cdMin = Math.min(10, Math.max(3, Math.round(minutes * 0.1)));
    plan.push({type:"Cooldown", text:`${cdMin} min — light stretching and breathing`});
    return plan;
  }

  function generate(){
    const rawGoal = ($('goal').value || 'strength').trim().toLowerCase();
    const levelRaw = ($('level').value || 'beginner').trim().toLowerCase();
    const minutes = parseInt($('time').value,10) || 30;
    const days = parseInt($('days').value,10) || 3;
    const equipmentRaw = ($('equipment').value || 'none').trim().toLowerCase();

    // Normalize goal to known keys
    let goalKey = "strength";
    if (/endur|cardio/i.test(rawGoal)) goalKey = "endurance";
    else if (/flex|yoga|mobility/i.test(rawGoal)) goalKey = "flexibility";
    else if (/weight|fat|loss/i.test(rawGoal)) goalKey = "weight loss";
    else if (/strength|power|muscl/i.test(rawGoal)) goalKey = "strength";

    const level = (/advanced/i.test(levelRaw))? "advanced" : (/intermediate/i.test(levelRaw))? "intermediate" : "beginner";

    const pool = choosePool(goalKey, equipmentRaw);

    // Build weekly plan
    const week = [];
    for(let d=1; d<=days; d++){
      const daily = planForDay(goalKey, level, minutes, pool);
      week.push({day:d, items:daily});
    }

    // Compose text output
    let lines = [];
    lines.push(`Routine — Goal: ${rawGoal || goalKey} | Level: ${level} | ${minutes} min/session | ${days} day(s)/week`);
    lines.push("=".repeat(60));
    week.forEach(w=>{
      lines.push(`Day ${w.day}:`);
      w.items.forEach(it=>{
        if (it.type === "Warm-up") lines.push(`  • Warm-up: ${it.text}`);
        else if (it.type === "Cooldown") lines.push(`  • Cooldown: ${it.text}`);
        else lines.push(`  • ${it.text}`);
      });
      lines.push("-".repeat(40));
    });

    // If fewer than 7 days, suggest simple recovery/repeat pattern
    if (days < 7) {
      lines.push("Weekly Notes:");
      lines.push(" - Rest or active recovery on non-training days (walk, mobility, light yoga).");
      if (goalKey === "strength") lines.push(" - Increase weight or reps gradually every 1–2 weeks.");
      if (goalKey === "endurance" || goalKey === "weight loss") lines.push(" - Add short interval sessions or increase duration for progress.");
    }

    output.textContent = lines.join("\n");
  }

  $('generate').addEventListener('click', generate);
  $('clear').addEventListener('click', ()=>{
    ['goal','level','time','days','equipment'].forEach(id=>$(id).value='');
    output.textContent = '';
  });

  // seed with an example on first load
  window.addEventListener('load', ()=>{
    $('goal').value = "strength";
    $('level').value = "beginner";
    $('time').value = "40";
    $('days').value = "3";
    $('equipment').value = "dumbbells";
    generate();
  });
})();
</script>
</body>
</html>
